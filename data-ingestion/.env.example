# ============================================================================
# Database Configuration (Required for all actions)
# ============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@host:port/database

# ============================================================================
# Action Selection (Required)
# ============================================================================

# Which data ingestion action to run
# Options: SCRAPE_HTML | GOOGLE_API | EXTRACT_STYLES | REDDIT_SCRAPER
ACTION=REDDIT_SCRAPER

# ============================================================================
# API Keys (Required for specific actions)
# ============================================================================

# OpenAI API key for GPT-4 Vision and text extraction
# Required for: SCRAPE_HTML, EXTRACT_STYLES, REDDIT_SCRAPER
OPENAI_API_KEY=sk-...

# Apify API token for actor runs (Instagram scraping, Reddit scraping)
# Required for: EXTRACT_STYLES, REDDIT_SCRAPER
APIFY_API_TOKEN=apify_api_...

# Google Places API key for location data
# Required for: GOOGLE_API
GOOGLE_PLACES_KEY=AIza...

# ============================================================================
# SCRAPE_HTML Action Configuration
# ============================================================================

# Number of concurrent threads for scraping
NUM_THREADS=12

# Maximum number of locations to scrape
MAX_SCRAPES=100

# Maximum number of pages to visit per location
MAX_PAGE_VISITS=5

# ============================================================================
# EXTRACT_STYLES Action Configuration
# ============================================================================

# Minimum confidence threshold for style extraction (0.0 to 1.0)
STYLE_CONFIDENCE_THRESHOLD=0.7

# Number of images to process in a single batch
VISION_BATCH_SIZE=10

# Maximum number of artists to process in one run
ARTIST_BATCH_LIMIT=100

# Number of artists to process concurrently
CONCURRENT_ARTISTS=3

# Maximum number of Instagram posts to fetch per artist
MAX_POSTS_PER_ARTIST=12

# ============================================================================
# REDDIT_SCRAPER Action Configuration
# ============================================================================

# Maximum number of Reddit posts to scrape per city
REDDIT_MAX_POSTS=100

# Maximum number of comments to process per post
REDDIT_MAX_COMMENTS=20

# Minimum number of images required in a post to process it
REDDIT_MIN_IMAGES=1

# Number of days before re-scraping a city (0 = always rescrape)
REDDIT_RESCRAPE_DAYS=30

# Whether to scrape Instagram bios of matched shops for additional artists
# Options: true | false
REDDIT_ENABLE_SHOP_SCRAPE=true

# Filter to scrape only a specific city (optional)
# Example: REDDIT_CITY=Portland
REDDIT_CITY=

# Filter to scrape only cities in a specific state (optional)
# Example: REDDIT_STATE=Oregon
REDDIT_STATE=

# Maximum number of cities to scrape in one run (optional)
# If not set, all matching cities will be scraped
REDDIT_MAX_CITIES=10

# ============================================================================
# Usage Examples
# ============================================================================

# Example 1: Scrape Reddit for a specific city
# ACTION=REDDIT_SCRAPER
# REDDIT_CITY=Portland
# REDDIT_STATE=Oregon
# REDDIT_MAX_CITIES=1

# Example 2: Scrape Reddit for all cities in a state
# ACTION=REDDIT_SCRAPER
# REDDIT_STATE=California
# REDDIT_MAX_CITIES=50

# Example 3: Extract styles for artist images
# ACTION=EXTRACT_STYLES
# ARTIST_BATCH_LIMIT=50
# CONCURRENT_ARTISTS=5

# Example 4: Scrape HTML for new locations
# ACTION=SCRAPE_HTML
# MAX_SCRAPES=25
# NUM_THREADS=8
